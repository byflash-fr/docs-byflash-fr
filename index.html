<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Byflash Editor - Éditeur de Documents</title>
    <link rel="stylesheet" href="style.css">
    <!-- Marked.js pour le Markdown -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <!-- Barre latérale -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <!-- <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                    <path d="M16 2L28 9V23L16 30L4 23V9L16 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                    <path d="M16 16L22 12M16 16L10 12M16 16V22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg> -->
                <h1>Byflash</h1>
            </div>
            <button class="new-doc-btn" id="newDocBtn">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path d="M8 3V13M3 8H13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                Nouveau document
            </button>
        </div>
        
        <div class="search-box">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <circle cx="7" cy="7" r="5" stroke="currentColor" stroke-width="1.5"/>
                <path d="M11 11L14 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
            <input type="text" placeholder="Rechercher..." id="searchInput">
        </div>

        <div class="documents-list" id="documentsList">
            <div class="loading">Chargement des documents...</div>
        </div>

        <div class="sidebar-footer">
            <button class="settings-btn" id="settingsBtn">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <circle cx="8" cy="8" r="2" stroke="currentColor" stroke-width="1.5"/>
                    <path d="M8 1V3M8 13V15M15 8H13M3 8H1M13.5 2.5L12 4M4 12L2.5 13.5M13.5 13.5L12 12M4 4L2.5 2.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                Paramètres
            </button>
        </div>
    </aside>

    <!-- Zone principale -->
    <main class="main-content">
        <!-- Barre d'outils -->
        <div class="toolbar">
            <div class="toolbar-left">
                <button class="toolbar-btn" id="toggleSidebarBtn">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M3 5H17M3 10H17M3 15H17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
                <div class="document-status" id="documentStatus">
                    <span class="status-dot"></span>
                    <span class="status-text">Sauvegardé</span>
                </div>
            </div>
            <div class="toolbar-right">
                <button class="toolbar-btn" id="deleteBtn" title="Supprimer le document">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M3 5H17M8 9V15M12 9V15M4 5L5 17H15L16 5M7 5V3H13V5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <button class="toolbar-btn primary" id="saveBtn">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M5 10L8 13L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Sauvegarder
                </button>
            </div>
        </div>

        <!-- Éditeur -->
        <div class="editor-container" id="editorContainer">
            <div class="editor-welcome" id="welcomeScreen">
                <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
                    <path d="M32 8L56 18V46L32 56L8 46V18L32 8Z" stroke="currentColor" stroke-width="3" stroke-linejoin="round"/>
                    <path d="M32 32L44 24M32 32L20 24M32 32V44" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
                </svg>
                <h1>Bienvenue dans Byflash Editor</h1>
                <p>Créez un nouveau document ou sélectionnez-en un dans la barre latérale</p>
                <button class="welcome-btn" id="welcomeNewDocBtn">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 4V16M4 10H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    Créer un document
                </button>
            </div>

            <div class="editor-content" id="editorContent" style="display: none;">
                <input type="text" class="document-title" id="documentTitle" placeholder="Document sans titre">
                
                <div class="notion-editor" id="notionEditor">
                    <div class="editor-line" data-line="0">
                        <div class="line-placeholder">Tapez '/' pour les commandes, ou commencez à écrire...</div>
                        <div class="line-input" contenteditable="true"></div>
                        <div class="line-preview"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal de confirmation -->
    <div class="modal" id="confirmModal">
        <div class="modal-content confirm-modal">
            <div class="modal-header">
                <h2 id="confirmTitle">Confirmation</h2>
            </div>
            <div class="modal-body">
                <p id="confirmMessage">Êtes-vous sûr ?</p>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="confirmCancelBtn">Annuler</button>
                <button class="btn-primary" id="confirmOkBtn">Confirmer</button>
            </div>
        </div>
    </div>

    <!-- Modal de connexion -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Connexion à Byflash</h2>
            </div>
            <div class="modal-body">
                <div class="settings-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" placeholder="votre.email@exemple.com" autocomplete="email">
                </div>
                <div class="settings-group">
                    <label for="loginPassword">Mot de passe</label>
                    <input type="password" id="loginPassword" placeholder="Votre mot de passe" autocomplete="current-password">
                </div>
                <div class="error-message" id="loginError"></div>
            </div>
            <div class="modal-footer">
                <button class="btn-primary full-width" id="loginBtn">Se connecter</button>
            </div>
        </div>
    </div>

    <!-- Modal de paramètres -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Paramètres</h2>
                <button class="close-btn" id="closeSettingsBtn">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M5 5L15 15M15 5L5 15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="settings-group">
                    <label>Connecté en tant que</label>
                    <div class="user-info">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
                            <circle cx="20" cy="20" r="18" stroke="currentColor" stroke-width="2"/>
                            <circle cx="20" cy="16" r="6" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 32C8 26 12 22 20 22C28 22 32 26 32 32" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <div>
                            <div class="user-email" id="userEmail">Chargement...</div>
                            <small id="userType">Type de compte</small>
                        </div>
                    </div>
                </div>
                <div class="settings-group">
                    <label for="apiUrlInput">URL de l'API</label>
                    <input type="text" id="apiUrlInput" placeholder="https://api.byflash.fr/index.php">
                    <small>Modifiez uniquement si vous utilisez une API personnalisée</small>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="logoutBtn">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M6 14H3C2.44772 14 2 13.5523 2 13V3C2 2.44772 2.44772 2 3 2H6M11 11L14 8M14 8L11 5M14 8H6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Déconnexion
                </button>
                <button class="btn-primary" id="saveSettingsBtn">Enregistrer</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>